---
// CollapsibleSection.astro - Einklappbare Sektion für optionale Formularfelder
// Ähnlich wie FAQs, aber für Formular-Sektionen

interface Props {
  title: string;
  subtitle?: string;
  isOptional?: boolean;
}

const { title, subtitle, isOptional = true } = Astro.props;
---

<details class="collapsible-section group mb-6 rounded-lg border border-gray-300 dark:border-gray-600 transition-all">
  <summary
    class="flex cursor-pointer items-center justify-between rounded-lg px-6 py-4 text-lg font-semibold transition-colors
           text-gray-500 dark:text-gray-400
           hover:bg-gray-50 dark:hover:bg-gray-800
           group-open:text-gray-900 dark:group-open:text-gray-100
           group-open:bg-gray-50 dark:group-open:bg-gray-800"
  >
    <div class="flex items-center gap-3">
      <span class="section-title">{title}</span>
      {isOptional && <span class="text-sm font-normal text-gray-400 dark:text-gray-500">(Optional)</span>}
    </div>
    <svg
      class="h-5 w-5 transition-transform duration-200 group-open:rotate-180 text-gray-500 dark:text-gray-400 group-open:text-gray-900 dark:group-open:text-gray-100"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
    </svg>
  </summary>

  <div class="px-6 pb-6 pt-2">
    {subtitle && <p class="mb-4 text-sm text-gray-600 dark:text-gray-400">{subtitle}</p>}
    <slot />
  </div>
</details>

<style>
  /* Remove default marker */
  summary {
    list-style: none;
  }
  summary::-webkit-details-marker {
    display: none;
  }
</style>
